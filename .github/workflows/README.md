# Настройка автоматического деплоя

Для работы автоматического деплоя на сервер при пуше в ветку `rollback-directions` необходимо настроить следующие секреты в GitHub репозитории:

## Настройка секретов

1. В вашем GitHub репозитории перейдите в `Settings > Secrets and variables > Actions`.
2. Добавьте следующие секреты:
   - `HOST`: IP-адрес вашего сервера (176.109.99.216)
   - `USERNAME`: Имя пользователя для SSH-подключения к серверу
   - `SSH_PRIVATE_KEY`: Приватный SSH-ключ для подключения к серверу

## Генерация SSH ключа

Если у вас еще нет SSH ключа для автоматического деплоя:

```bash
# Генерация нового ключа
ssh-keygen -t rsa -b 4096 -f ~/.ssh/github_deploy_key

# Скопируйте содержимое приватного ключа в секрет SSH_PRIVATE_KEY
cat ~/.ssh/github_deploy_key

# Добавьте публичный ключ на сервер
cat ~/.ssh/github_deploy_key.pub | ssh username@176.109.99.216 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

## Пути на сервере

В файле `deploy.yml` замените путь `/path/to/your/project/on/server` на фактический путь к проекту на сервере.

## Проверка работоспособности

После настройки сделайте тестовый коммит в ветку `rollback-directions` и убедитесь, что деплой проходит успешно. 